<!-- image header -->
<header>
  <div id="img-header" class="contact"></div>
</header>

<app-mission-info-panel></app-mission-info-panel>

<!-- content -->
<section>
  <!-- title -->
  <div class="content-title">
    <h1 class="title">Liste des joueurs</h1>
  </div>

  <!-- content -->
  <div class="content">
    <div class="columns">
      <div class="column">
        <div *ngIf="playerLogged$ | async">
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Pseudo</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input
                    class="input"
                    type="text"
                    [(ngModel)]="username"
                    placeholder="me"
                  />
                </p>
              </div>
            </div>
          </div>

          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label class="label">Mot de passe</label>
            </div>
            <div class="field-body">
              <div class="field">
                <p class="control">
                  <input
                    class="input"
                    [(ngModel)]="password"
                    type="password"
                    placeholder="example_mdp"
                  />
                </p>
              </div>
            </div>
          </div>
        </div>
        <br />
        <div class="mybuttons">
          <div class="field is-grouped is-grouped-right">
            <p class="control">
              <button class="button is-danger" (click)="del()">
                Supprimer
              </button>
            </p>
          </div>

          <div class="field is-grouped is-grouped-right">
            <p class="control">
              <button class="button is-primary" (click)="update()">
                Mettre à jour
              </button>
            </p>
          </div>
        </div>

        <br />

        <table
          class="table is-bordered is-hoverable is-fullwidth"
          *ngIf="playerLogged$ | async"
        >
          <thead>
            <tr>
              <th>#</th>
              <th>Mission</th>
              <th>Team</th>
              <th>Rôle</th>
            </tr>
          </thead>
          <tbody *ngFor="let role of (playerLogged$ | async).roles">
            <tr>
              <th>{{ role.id }}</th>
              <td>{{ role.mission?.name }}</td>
              <td>{{ role.team?.name }}</td>
              <td>{{ role.name }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
